smiles = ['C[Si](C)(C)C#Cc1c2ccccc2c(C#C[Si](C)(C)C)c2c1c1c(C#C[Si](C)(C)C)c3ccccc3c(C#C[Si](C)(C)C)c21',
 'CC(C)[Si](C#Cc1c2cc3ccc(Br)cc3cc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2cc3cc(Br)ccc3cc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2cc3ccc(Br)cc3cc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2cc3ccc(Br)cc3cc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3cc4ccccc4cc3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2cc3ccccc3cc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2cc3cc(C#C)c(cc3cc12)C#C)(C(C)C)C(C)C',
 'CC(C)(C)[Si](C)(C)C#Cc1c2cc3ccccc3cc2c(C#C[Si](C)(C)C(C)(C)C)c2cc3ccccc3cc12',
 'CC[Si](C#Cc1c2cc3ccccc3cc2c(C#C[Si](CC)(C(C)C)C(C)C)c2cc3ccccc3cc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2C(=O)c3ccccc3c2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2C(=O)c3ccccc3c12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3cc4c5ccccc5c4cc3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3cc4C(=O)N(C)C(=O)c4cc3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3cc4C(=O)N(C5CCCCC5)C(=O)c4cc3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3cc(C#N)c(cc3nc12)C#N)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1ccc(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3cc4cc(C#N)c(cc4cc3nc12)C#N)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3cc4cc(C#N)c(cc4cc3nc12)C#N)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2cc3c(Sc4ccccc34)cc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#CC1=C2Nc3nc4cc(Cl)c(Cl)cc4nc3NC2=C(C#C[Si](C(C)C)(C(C)C)C(C)C)c2ccccc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3nc4cc(Cl)c(Cl)cc4nc3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2cc3cccnc3cc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2cc3cc(Br)c(Br)cc3cc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2cc3SC=Cc3cc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2cc3c(Cl)c(Cl)c(Cl)c(Cl)c3cc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1ccc(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3c4ccccc4C(=O)c4ccccc4c3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3c4ccccc4C(=O)c4ccccc4c3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2cc3ccccc3cc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3c4ccccc4C(=O)c4ccccc4c3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2nc3ccccc3nc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3c4ccccc4C(=O)c4ccccc4c3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2cc3cc(Br)c(Br)cc3cc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3cc(I)c(I)cc3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3cc(Br)c(Br)cc3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3c(cc(Br)c(Br)c3Br)nc12)(C(C)C)C(C)C',
 'C[Si]1(C)C#Cc2c3ccccc3c(C#C[Si](C)(C)[Si](C)(C)C#Cc3c4ccccc4c(C#C[Si]1(C)C)c1ccccc31)c1ccccc21',
 'CC(C)[Si](C#Cc1c2cc3cccnc3cc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2cc3c(Cl)c(Cl)c(Cl)c(Cl)c3cc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2cc3nccnc3cc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2cc3c(F)c(F)c(F)c(F)c3cc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2cc3nccnc3cc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2cc3c(Cl)c(Cl)c(Cl)c(Cl)c3cc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2Nc3cc(Br)c(Br)cc3Nc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3cc(Br)c(Br)cc3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3nc4C=CC(=O)Nc4nc3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2cc3ccccc3cc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2cc3cc(Br)c(Br)cc3cc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2cc3cc(Br)c(Br)cc3cc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2cc3cc(Br)c(Br)cc3cc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3c(F)c(F)c(F)c(F)c3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3c(Cl)c(Cl)c(Cl)c(Cl)c3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2cc3cccnc3cc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2cc3cccnc3cc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2Nc3ccccc3Nc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3c(F)c(F)c(F)c(F)c3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2cc3ccccc3cc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2cc3ccccc3cc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2cc3cc4ccccc4cc3cc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2ccccc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3c4ccccc4C(=O)c3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2cc3ccccc3cc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3c4ccccc4C(=O)c3nc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2cc3ccccc3cc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3c(nc12)c1ccccc1S3(=O)=O)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2cc3nccnc3cc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2cc3nccnc3cc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2cc3ccccc3cc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2cc3nccnc3cc12)(C(C)C)C(C)C',
 'CC(C)[Si](C#Cc1c2nc3cc(F)c(F)cc3nc2c(C#C[Si](C(C)C)(C(C)C)C(C)C)c2nc3cc(F)c(F)cc3nc12)(C(C)C)C(C)C']

# from itertools import combinations

# def jaccard_similarity(str1, str2):
#     set1 = set(str1)
#     set2 = set(str2)
#     intersection = len(set1 & set2)
#     union = len(set1 | set2)
#     return intersection / union

# def get_substrings(string, min_length):
#     substrings = [string[i:i+length] for length in range(min_length, len(string) + 1) for i in range(len(string) - length + 1)]
#     return substrings

# def color_common_parts(string, common_parts):
#     colored_string = string
#     for part in common_parts:
#         colored_part = f"\033[91m{part}\033[0m"
#         colored_string = colored_string.replace(part, colored_part)
#     return colored_string


# min_similarity = 0.0  # Set your desired threshold for similarity (80%)
# min_length = 4  # Minimum length of substrings to compare

# substrings_all = [get_substrings(string, min_length) for string in smiles]

# common_parts = set(substrings_all[0])
# for substrings in substrings_all[1:]:
#     common_parts.intersection_update(substrings)

# valid_common_parts = set()

# for part in common_parts:
#     count = 0
#     for substrings in substrings_all:
#         if any(part in sub for sub in substrings):
#             count += 1
#     if count >= len(smiles) * min_similarity:
#         valid_common_parts.add(part)

# print("Common parts shared by at least 80% of the strings:")
# print(valid_common_parts)

# colored_strings = [color_common_parts(string, valid_common_parts) for string in smiles]

# for idx, colored_string in enumerate(colored_strings, start=1):
#     print(colored_string)
#     print()

